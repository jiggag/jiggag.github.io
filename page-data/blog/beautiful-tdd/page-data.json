{
    "componentChunkName": "component---src-pages-markdown-remark-frontmatter-slug-tsx",
    "path": "/blog/beautiful-tdd/",
    "result": {"data":{"markdownRemark":{"html":"<h3>κ·Έλ™μ•μ ν…μ¤νΈ</h3>\n<p>ν•­μƒ κ³„νμ—λ§ μ΅΄μ¬ν•λ” κ²ƒ, <code>ν…μ¤νΈ μ½”λ“ μ‘μ„±ν•κΈ°</code>μ΄λ‹¤.</p>\n<p>κ·Έλ¬λ‚ μ΄λ²μ— λ”λ―Έ λ°μ΄ν„°λ΅ ν™•μΈν•λ”λ° ν•κ³„κ°€ μλ” μ—¬λ¬ μΌ€μ΄μ¤λ¥Ό ν™•μΈν•΄λ³΄κ³ μ\n<code>ν…μ¤νΈλ¥Ό μ‘μ„±ν•΄ λ‘λ©΄ λ§μμ΄ νΈμ•ν•΄μ§ μ μκ² μ§€</code> ν•λ©° ν…μ¤νΈ μ½”λ“λ¥Ό μ‘μ„±ν• κ²ƒμ΄ μ‹μ‘μ΄μ€λ‹¤.\n(μ•„λ§ λ°μ΄ν„°κ°€ μ¶©λ¶„ν–λ‹¤λ©΄ κ·Έλƒ¥ μ§€λ‚κ°”μ„μ§€ λ¨λ¥Έλ‹¤)</p>\n<p>κ·Έλ™μ• μ‘μ„±ν• ν…μ¤νΈ μ½”λ“λ” λ‹¨μν• μ ν‹Έ, λΉ„μ¦λ‹μ¤ λ΅μ§μ„ ν™•μΈν•λ” μ •λ„μ€κ³  μ»΄ν¬λ„νΈ λ λ”λ§ ν…μ¤νΈλ„ ν•΄λ΄¤λ‹¤κ³  ν•κΈ° μ‘¥μ“°λ¬μ΄ μμ¤€μ΄λ‹¤.\nλ¨λ“ κ² μ™„λ£λ ν›„ λ΅μ§ κ²€μ¦ λ° λ¦¬ν©ν„°λ§, ν›—λ‚ μ μ½”λ“ μ§€ν‚΄μ΄λ¥Ό μ„ν• μ°¨μ›μ—μ„ μ‘μ„±ν• κ²ƒλ“¤μ΄ λ€λ¶€λ¶„μ΄λΌ\n<code>ν•΄λ³Έμ μ΄ μ—†λ” κ±΄ μ•„λ‹μ§€λ§ ν•΄λ΄¤λ‹¤κ³  ν•κΈ° λ―Όλ§ν•</code> κ·Έ μ‚¬μ΄ μ–΄λ””μ―¤μ΄λ‹¤.</p>\n<hr>\n<h3>κ·Έλ ‡κ² μ‹μ‘ν• λ„μ „κΈ°</h3>\n<p>μ΄λ²μ—λ„ λ§μ°¬κ°€μ§€λ΅ λΉ„μ¦λ‹μ¤ λ΅μ§, ν—¬νΌ ν•¨μλ¥Ό ν…μ¤νΈν•κ³  μμ—λ‹¤.\nν•μ§€λ§ λΉ„μ¦λ‹μ¤ λ΅μ§μ€ μ»¤μ¤ν…€ ν›…μΌλ΅ λ¶„λ¦¬ν•λ” μ‘μ—…μ„ ν•λ‹¤λ³΄λ‹ ν…μ¤νΈ μ½”λ“ μ‘μ„±ν•λ”κ² μ΅°κΈ λ¶νΈν•λ‹¤κ³  λκ»΄μ΅λ‹¤.</p>\n<p>ν›…μ„ ν…μ¤νΈν•λ”κ² μ•„λ‹λΌλ©΄ ν›… μ•μ—μ„ μ‚¬μ©ν•λ” λ΅μ§λ§ λ”°λ΅ λ¶„λ¦¬ν•΄μ„ λ‹¤μ‹ ν…μ¤νΈλ¥Ό ν•΄μ•Όν•λ”λ°, κ·ΈλΌ λ¶ν•„μ”ν•κ² μ½”λ“κ°€ λ¶„λ¦¬λλ” λ¨μ–‘μ΄ λμ—λ‹¤.</p>\n<p>κ·Έλ¦¬κ³  μ΄ ν›…μ„ μ‚¬μ©ν•λ” μ»΄ν¬λ„νΈμ—μ„ ν›…μ΄ λ°ν™ν•λ” κ²°κ³Όμ— λ”°λΌ λ μ΄μ•„μ›ƒμ΄ λ³€κ²½λλ” κ²ƒλ„ ν…μ¤νΈν•λ©΄ μΆ‹κ² λ‹¤κ³  μƒκ°μ΄ λ“¤κ³  μμ—λ‹¤.</p>\n<pre><code class=\"language-tsx\">// useCustomHook.test.tsx\nimport useCustomHook from './useCustomHook';\n\n...\n\nit('μ»¤μ¤ν…€ ν›… ν…μ¤νΈ', () => {\n  const customHook = useCustomHook({ value: 0 });\n  expect(customHook.value).toBe(1);\n});\n</code></pre>\n<p>κ·Όλ° μ΄μ²λΌ ν›…μ„ ν…μ¤νΈν•λ ¤κ³  ν•λ©΄ <code>Error: Invalid hook call. Hooks can only be called inside of the body of a function component.</code> μ—λ¬κ°€ λ°μƒν•μ€λ‹¤.\nν›…μ„ ν…μ¤νΈν•λ ¤λ©΄ μ„μμ μ»΄ν¬λ„νΈλ΅ λν•‘ν•΄μ„ νΈμ¶ν•΄μ•Όν•λ” κ²ƒμ΄μ€λ‹¤.</p>\n<p>ν•μ§€λ§ λ§¤λ² ν›…μ„ κ°μ‹Έκ³  ν›…μ λ°ν™κ°’μ„ μƒνƒλ΅ κ°–λ” μ»΄ν¬λ„νΈλ¥Ό λ§λ“¤μ–΄μ„ ν™•μΈν•λ” κ²ƒμ€ λ„λ¬΄ κ·€μ°®λ‹¤κ³  μƒκ°μ΄ λ“¤μ—λ”λ°,\nμ»¤μ¤ν…€ ν›…μ„ ν…μ¤νΈν•  μ μλ” λΌμ΄λΈλ¬λ¦¬κ°€ λ‹Ήμ—°ν μμ—κ³  κ·Έλ ‡κ² <a href=\"https://github.com/testing-library/react-hooks-testing-library\">@testing-library/react-hooks</a> λ¥Ό μ΄μ©ν•΄λ³΄κΈ°λ΅ ν•μ€λ‹¤.</p>\n<hr>\n<h3>@testing-library/react-hooks</h3>\n<pre><code class=\"language-tsx\">import { renderHook, act } from '@testing-library/react-hooks';\nimport useCustomHook from './useCustomHook';\n\ninterface CustomHook {\n  value: number;\n  increment: () => void;\n}\n\nit('μ»¤μ¤ν…€ ν›… ν…μ¤νΈ', () => {\n  const { result } = renderHook(useCustomHook, { initialProps: {\n    value: 1,  \n  }});\n  expect(result.current.value).toBe(1);\n\n\n  act(() => {\n    result.current.increment();\n  })\n  \n  expect(result.current.value).toBe(2);\n})\n</code></pre>\n<p>μμ‹μ²λΌ <code>renderHook</code>μΌλ΅ ν…μ¤νΈν•κ³ μ ν•λ” ν›…μ„ κ°μ‹Έλ©΄ <a href=\"https://react-hooks-testing-library.com/reference/api#renderhook-result\"><code>RenderHookResult</code></a> μ„ λ°ν™ν•λ”λ°, ν›…μ λ°ν™κ°’μ΄ <code>result.current</code>μ— λ“¤μ–΄κ°€κ² λλ‹¤.</p>\n<p>μ–΄λ–»κ² ν›…μ„ ν…μ¤νΈν•  μ μκ² λμ—μ„κΉ?</p>\n<p><a href=\"https://github.com/testing-library/react-hooks-testing-library/blob/21a20baf4c92e94055d725ce96a29b73aa0fa9cd/src/native/pure.ts#L8\"><code>renderHook</code></a> λ‚΄λ¶€μ μΌλ΅ <a href=\"https://github.com/testing-library/react-hooks-testing-library/blob/21a20baf4c92e94055d725ce96a29b73aa0fa9cd/src/helpers/createTestHarness.tsx#L6\">μ»΄ν¬λ„νΈ λν•‘ν•λ” κµ¬μ΅°</a> λ΅ λ³΄μΈλ‹¤.\n(<a href=\"https://react-hooks-testing-library.com/installation#renderer\">μ—¬κΈ°</a> μ„ μΉμ ν•κ²λ„ μ΄λ―Έ λ λ”λ¬μ— λ€ν•΄ μ΄μ•ΌκΈ°ν•΄μ£Όκ³  μμ—λ‹¤)\nλ¨λ“ κ±΄ λΌμ΄λΈλ¬λ¦¬κ°€ ν•΄μ£Όλ‹ μ¨μ „ν μ»¤μ¤ν…€ ν›… λ΅μ§ ν…μ¤νΈλ§ ν•  μ μκ² λμ—λ‹¤.</p>\n<p>ν›…μ μƒνƒλ¥Ό μ—…λ°μ΄νΈν•λ” λ¬΄μ–Έκ°€λ¥Ό νΈμ¶ν•λ‹¤λ©΄ <a href=\"https://reactjs.org/docs/test-utils.html#act\"><code>act</code></a> λ΅ κ°μ‹Έμ„ μ—…λ°μ΄νΈλ¥Ό ν™•μΈν•  μ μμ—λ‹¤.\nλ¦¬μ•΅νΈ μ‚¬μ΄ν΄μ„ λ™μ‘ν•λ” κ²ƒμ²λΌ λ§λ“¤μ–΄μ£Όλ” λ¨μ–‘μ΄λ‹¤. (λΉ„λ™κΈ° μ²λ¦¬μ— λ€ν•΄μ„λ” <a href=\"https://github.com/testing-library/react-hooks-testing-library/blob/21a20baf4c92e94055d725ce96a29b73aa0fa9cd/src/core/asyncUtils.ts#L39\"><code>act</code>λ¥Ό ν•λ² λ” λν•‘ν• <code>waitFor*</code></a> λ¥Ό μ‚¬μ©ν•΄μ•Όν•λ‹¤)</p>\n<p>κ·Έλ ‡λ‹¤λ©΄ μ™ <code>result.current</code> ν•νƒλ¥Ό κ°–κ² λμ—μ„κΉ?</p>\n<p><a href=\"https://github.com/testing-library/react-hooks-testing-library/blob/21a20baf4c92e94055d725ce96a29b73aa0fa9cd/src/helpers/createTestHarness.tsx#L11\">μ»¤μ¤ν…€ ν›…μ„ λν•‘ν• μ»΄ν¬λ„νΈ</a> μ—μ„ λ λ”λ§ λ  λ• λ§λ‹¤ <code>setValue</code> μ—…λ°μ΄νΈκ°€ μ§„ν–‰λλ”λ°, μ΄λ¥Ό μ‹¤μ  μƒνƒ μ—…λ°μ΄νΈκ°€ μ•„λ‹λΌ <code>result.current</code>κ°€ μ°Έμ΅°ν•κ³  μλ” <code>value</code>μ— λ‹¨μν λ°°μ—΄μ„ μ¶”κ°€ν•λ” ν•νƒμ΄λ‹¤(<code>mutable</code>).</p>\n<p>λ”°λΌμ„ <code>const { value } = result.current</code> λ΅ λ¶„ν•΄ν•΄μ„ μ‚¬μ©ν•κ² λλ©΄ <a href=\"https://github.com/testing-library/react-hooks-testing-library/blob/21a20baf4c92e94055d725ce96a29b73aa0fa9cd/src/core/index.ts#L7\"><code>result.current</code></a> λ” ν…μ¤νΈ ν›…μ΄ λ λ”λ§ λ  λ• λ§λ‹¤ μƒλ΅ μ¶”κ°€λ κ°’μ„ λ“¤κ³  μμ§€λ§ <code>value</code>λ” λ¶„ν•΄ μ‹μ μ— ν• λ‹Ήλ κ°’μ„ λ°ν™ν•κ² λλ‹¤.\n(ν•­μƒ <code>result.current.value</code>λ¥Ό ν•΄μ•Όν•λ” μ΄μ μ΄λ‹¤)</p>\n<pre><code class=\"language-tsx\">const { result, rerender } = renderHook(() => useCustomHook({ value: 2 }));\nconst { result } = renderHook(useCustomHook, {\n  initialProps: {\n    value: 2,\n  }\n});\nconst { result } = renderHook(({ value }) => useCustomHook(value), {\n  initialProps: {\n    value: 2,\n  },\n  wrapper: ({ children }) => &#x3C;>{children}&#x3C;/>,\n});\n</code></pre>\n<p>λ‹¤μ–‘ν• ν•νƒλ΅ <code>renderHook</code>μ„ μ‚¬μ©ν•  μ μλ”λ°, <code>renderHook</code>μ΄ λ°ν™ν•λ” <code>rerender</code>λ” μ–΄λ–¤ μƒν™©μ—μ„ μ¨μ•Όν•λ” κ²ƒμΌκΉ?</p>\n<p>μΌλ°μ μΌλ΅ ν›… μƒνƒκ°€ μ—…λ°μ΄νΈ λλ” μƒν™©μ΄λΌλ©΄ λ‚΄λ¶€ ν•¨μλ¥Ό νΈμ¶ν• ν…λ°, <code>rerender</code>κ°€ ν•„μ”ν• μ‹μ μ€ μ–Έμ μΌκΉ?\nν›…μ„ μ‚¬μ©ν•λ” μ™Έλ¶€ μƒν™©μ΄ λ³€κ²½λμ—μ„λ•, ν›…μ μ½λ°± μƒνƒ λλ” <code>cleanup</code>(<code>unmount</code>λΌλ” ν•¨μλ΅ λ”°λ΅ ν…μ¤νΈ ν•  μ μλ‹¤)μ„ ν…μ¤νΈν•κ³ μ λ¦¬λ λ”λ¥Ό ν•„μ”λ΅ ν•κ² λλ‹¤.</p>\n<p>λ‚΄λ¶€ μƒνƒ μ—…λ°μ΄νΈ ν•¨μλ¥Ό νΈμ¶ν• λ•μ—λ” <code>act</code>λ΅ κ°μ‹Έλ” κ²ƒκ³Ό λ‹¤λ¥΄κ², <code>rerender</code>λ” μ—…λ°μ΄νΈλ <code>props</code>λ¥Ό νλΌλ―Έν„°λ΅ λ„κ²¨μ£Όλ” (μ‹¤μ  ν›…μ΄ λ‹¤μ‹ λ λ”λλ” κ²ƒ μ²λΌ) <code>rerender({ value: 0 })</code> ν•νƒλ΅ νΈμ¶ν•κΈ°λ§ ν•λ©΄ λλ‹¤.<br>\n(λ³€κ²½λ propsλ¥Ό λ„κΈ°μ§€ μ•μ•λ”λ‹ μ²μ renderHookμ„ νΈμ¶ν• propsκ°€ κ·Έλ€λ΅ μ μ§€λμ—λ‹¤)</p>\n<pre><code class=\"language-tsx\">expect(result.current.value).toBe(2);\n\nrerender(); // μ΄λ ‡κ²λ§ νΈμ¶ν•λ©΄ μ΄κΈ° μƒνƒ κ·Έλ€λ΅ propsκ°€ μ—…λ°μ΄νΈ λμ§€ μ•μ•λ‹¤ \nexpect(result.current.value).toBe(2);\n\nrerender({ value: 99 });\nexpect(result.current.value).toBe(99);\n</code></pre>\n<p>κ·Έ μ™Έμ— <code>renderHook</code>μ μµμ…μΌλ΅ <code>wrapper</code>κ°€ μλ”λ°, μ΄λ” ν›…μ„ λν•‘ν•  μ μλ” μµμ…μ΄λ‹¤.\nμμ‹μ—μ„λ” <code>Context.Provider</code>κ°€ λ‚μ™”λ”λ°, λ‹¤λ¥Έ μ»΄ν¬λ„νΈλ΅ λν•‘ν•  μ μμ„ λ“― ν•λ‹¤. (κ·Έλ΄κ±°λ©΄ κ·Έλƒ¥ μ»΄ν¬λ„νΈλ¥Ό ν…μ¤νΈν•λ”κ² μΆ‹μ§€ μ•μ„κΉ)</p>\n<hr>\n<h3>λ¨λ“  ν›…μ„ ν…μ¤νΈν•  μ μμ„ κ²ƒ κ°™λ‹¤</h3>\n<p>κ·Έλ¬λ‚ λ¨λ“  μ»¤μ¤ν…€ ν›…μ„ <code>@testing-library/react-hooks</code>μΌλ΅ ν…μ¤νΈ ν•΄μ•Όν•λ” κ²ƒμ€ μ•„λ‹λ‹¤.\n<a href=\"https://react-hooks-testing-library.com/#the-solution\">μ—¬κΈ°</a> μ— μ“°μ—¬μλ” κ²ƒμ²λΌ <code>λ‹¨μν•κ±°λ‚ λ‹¨ ν•λ‚μ μ»΄ν¬λ„νΈμ—μ„λ§ μ“°μ΄λ” ν›…</code>μ΄λΌλ©΄ μ»΄ν¬λ„νΈ μμ²΄λ¥Ό ν…μ¤νΈν•λ” κ²ƒμ΄ λ” μΆ‹λ‹¤κ³  μƒκ°ν•λ‹¤.</p>\n<p>λ³µμ΅ν• λΉ„μ¦λ‹μ¤ λ΅μ§μ΄ ν¬ν•¨λ κ²½μ°λ‚ μ»΄ν¬λ„νΈμ™€ μ—°κ²°λμ§€ μ•λ” μ»¤μ¤ν…€ ν›…μ΄λΌλ©΄ ν›…λ§ λ”°λ΅ ν…μ¤νΈν•λ” κ²ƒμ΄ μΆ€ λ” λ…ν™•ν•κ² ν™•μΈ ν•  μ μμ„ κ²ƒμ΄λ‹¤.</p>\n<p>(μ΄κ²ƒμ €κ²ƒ λ‹¤ ν…μ¤νΈ ν•΄λ³΄κΈ° μ „μ— μ •λ¦¬ν•  μ μμ–΄μ„ λ‹¤ν–‰μ΄λ‹¤)</p>\n<hr>\n<h3>μ•„λ¦„λ‹µκ² μ‹μ‘ν• μ»΄ν¬λ„νΈ ν…μ¤νΈ</h3>\n<p>ν•λ‹¤λ³΄λ‹ <code>μ»΄ν¬λ„νΈ λ λ”λ§ ν…μ¤νΈλ„ ν•  μ μκ² λ”λ°?</code> ν•λ” μ• μ μ—†λ” μμ‹ κ°μ΄ λ¶€ν’€μ–΄ <code>TDDλ¥Ό ν•λ² ν•΄λ΄μ•Όμ§€!</code> λΌλ” λ§μμ— λ„λ‹¬ν•μ€λ‹¤.</p>\n<p>κ·Έλ™μ• μ»΄ν¬λ„νΈ ν…μ¤νΈν•λ” μ²™ μ‚¬μ©ν–λ <a href=\"https://github.com/callstack/react-native-testing-library\">@testing-library/react-native</a> (μ½μ¤νƒ π‘) λ¥Ό μ΄μ©ν•΄μ„\n<code>μ•λλ©΄ λΉΌλ©΄ λμ§€!</code> ν•λ” λ§μμΌλ΅ μµλ€ν• λ¶€λ‹΄μ—†μ΄ μ‹μ‘μ€ ν•΄λ³΄λ ¤κ³  ν•μ€λ‹¤. (μ—¬κΈ°κΉμ§€κ°€ μ•„λ¦„λ‹¤μ› λ κ²ƒ κ°™λ‹¤)</p>\n<p>μ»΄ν¬λ„νΈ μ¤λƒ…μƒ· λ§κ³ λ” λ³„λ‹¤λ¥Έ ν…μ¤νΈλ¥Ό ν•κ³  μμ§€ μ•μ•κ³ , κ·Έλ‚λ§ ν•΄λ΄¤λ‹¤κ³  ν•κΈ°μ—λ” μ§€κΈ λμ•„λ³΄λ©΄ λ³„λ‹¤λ¥Έ μλ―Έκ°€ μ—†μ—λ (μ»¤μ¤ν…€ ν›…μ΄λ‚ λΉ„μ¦λ‹μ¤ λ΅μ§μΌλ΅ ν…μ¤νΈν–λ‹¤λ©΄ ν•„μ”ν•μ§€ μ•μ•μ„) ν…μ¤νΈκ°€ μ λ λ”λ§ λλ”μ§€ μ •λ„μ€λ‹¤.</p>\n<p>κ·Έλ ‡κΈ° λ•λ¬Έμ— μ»΄ν¬λ„νΈ ν…μ¤νΈλ¥Ό μ‹μ‘ν•κΈ° μ„ν•΄μ„ <code>μ»΄ν¬λ„νΈλ¥Ό μ–΄λ–»κ² ν…μ¤νΈν•  μ μλ”κ±°μ§€?</code>λ¥Ό μ•μ•„λ³΄μ•„μ•Όν–λ‹¤.\nμ½μ¤νƒμ <a href=\"https://callstack.github.io/react-native-testing-library/\">λ¬Έμ„</a> μλμ–΄μμ—κ³  μ•λλ”κ±° λΊ΄κ³  μ“Έ μ¤„ λ¨λ¥΄λ”κ±° λΉΌκ³  λ‹¤ λλ” κ²ƒ κ°™μ•λ‹¤!</p>\n<p>λ§‰μ—°ν•κ² μ‹μ‘ν•λ ¤κ³  ν•λ‹ <code>testId</code>λ¥Ό μ‚¬μ©ν•΄μ„ ν•΄μ•Όν•λ” κ²ƒ κ°™μ€λ°, κ·Έκ±Έ μ°ΎμΌλ ¤λ©΄ <code>getByTestId</code>λ‚ <code>queryByTestId</code>λ΅ ν•λ©΄ λ  κ²ƒ κ°™μ€ λλ‚μ΄λ‹¤.\n(βλ¬Έμ„λ¥Ό μ½λ” κ²ƒλ³΄λ‹¤) λ¨Όμ € <code>getByTestId</code>λ΅ μ°Ύμ€ μ»΄ν¬λ„νΈ μ—λ¦¬λ¨ΌνΈλ¥Ό κ°€μ Έμ¨λ‹¤λ” κ²ƒμ„ μ‹ν—ν•΄λ΄¤λ”λ°, λ‹Ήμ—°ν•κ²λ„ μ—λ¬κ°€ λ°μƒν–λ‹¤.</p>\n<pre><code class=\"language-tsx\">import { render } from '@testing-library/react-native';\n\nconst Component = ({ isVisible = false }) => {\n  return isVisible ? (\n    &#x3C;View testId=\"component\">\n      &#x3C;Text>test&#x3C;/Text>\n    &#x3C;/View>\n  ) : null;\n};\n\nit('μ»΄ν¬λ„νΈ ν…μ¤νΈ', () => {\n  const {\n    getByTestId,\n  } = render(&#x3C;Component />);\n\n  expect(getByTestId('component')).toBeFalsy();\n});\n</code></pre>\n<p>μ „λ‹¬λ propsκ°€ μ—†μ—μΌλ‹ <code>Component</code>λ” nullμ„ λ°ν™ν•κ³  <code>testId='component'</code>μ μ—λ¦¬λ¨ΌνΈλ¥Ό μ°Ύμ§€ λ»ν–κΈ° λ•λ¬Έμ— <code>falsy</code>ν•λ‹¤κ³  ν…μ¤νΈλ¥Ό μ‘μ„±ν•λ©΄ λ  κ²ƒ κ°™μ•λ‹¤.\nκ·Έλ¬λ‚ μ΄ ν…μ¤νΈλ” <code>Error: Unable to find an element with testID: component</code> μ—λ¬λ¥Ό λ‚΄λΏμΌλ©° μ‹¤ν¨ν–λ‹¤.</p>\n<p>μ™? μ°Ύμ§€ λ»ν•κ² λ§λ”λ° μ—λ¬κ°€ λ‚λ”κ±°μ§€?</p>\n<hr>\n<h3>@testing-library/react-native</h3>\n<p>μ°μ„  μ‹¤ν¨ν•λ” μΌ€μ΄μ¤μ—μ„ μ‚¬μ©ν–λ κ²ƒλ“¤ λ¨Όμ € ν™•μΈν•΄λ³Έλ‹¤.</p>\n<p><code>render</code>λ” μμƒν–λλ€λ΅ μ»΄ν¬λ„νΈλ¥Ό λ λ”λ§ μ‹μΌμ£Όκ³  μμ—λ‹¤.</p>\n<pre><code class=\"language-tsx\">import { render } from '@testing-library/react-native';\n\nit('μ»΄ν¬λ„νΈ ν…μ¤νΈ', () => {\n  const { toJSON, queryByTestId } = render(&#x3C;Component />, {\n    wrapper: ({ children }) => &#x3C;Wrapper>{children}&#x3C;/Wrapper>,\n    createNodeMock: (element) => {\n      // ν…μ¤νΈν•λ” μ»΄ν¬λ„νΈμ refλ¥Ό μ μ–΄ν•λ‹¤\n      return null;\n    },\n  });\n\n  expect(toJSON()).toMatchSnapshot();\n  expect(queryByTestId('component')).not.toBe(null);\n  expect(queryByTestId('fake_component')).toBe(null);\n});\n</code></pre>\n<p><code>@testing-library/react-native</code>μ <code>render</code> μµμ…μ—λ” <code>wrapper</code>μ™€ <code>createNodeMock</code> λ‘κ°€μ§€κ°€ μλ”λ°,\n<code>wrapper</code>λ” <code>renderHook</code>μ <code>wrapper</code>μ™€ λ™μΌν•κ³  <code>createNodeMock</code>λ” <a href=\"https://ko.reactjs.org/docs/test-renderer.html#ideas\">μμ‹</a> μ²λΌ <code>DOM ref</code>λ¥Ό μ»¤μ¤ν…€ν•λ” μ—­ν• μ„ ν•κ³  μλ‹¤.</p>\n<p>κ·Έλ ‡λ‹¤λ©΄ λ λ”λ§λ μ»΄ν¬λ„νΈ μ•μ—μ„ ν™•μΈν•κ³ μν•λ” <code>testId</code>μ μ—λ¦¬λ¨ΌνΈ μΈμ¤ν„΄μ¤λ¥Ό κ°€μ Έμ™€μ•Όν•λ”λ°, <a href=\"https://testing-library.com/docs/queries/about#types-of-queries\">μ—¬κΈ°</a> μ— μ¨μλ“― λ‹¤μ–‘ν• ν•νƒμ μΏΌλ¦¬(<code>get, query, find</code>)κ°€ μ΅΄μ¬ν•κ³  κ°κ°μ μΏΌλ¦¬κ°€ λ°ν™ν•λ” ν•νƒμ— λ”°λΌ <code>μ–΄λ–¤ λ©μ μΌλ΅, μ–΄λ–¤ κ²°κ³Όλ¥Ό ν…μ¤νΈν•  κ²ƒμΈμ§€</code> μ μ ν•κ² μ‚¬μ©ν•΄μ•Όν•λ‹¤.</p>\n<p>μΏΌλ¦¬λ§λ‹¤ λ°ν™ν•λ” ν•νƒλ¥Ό ν™•μΈν•κ³ λ‚λ‹ μ™ μ—λ¬λ¥Ό λ‚΄λΏμΌλ©° μ‹¤ν¨ν–λ”μ§€ μ• μ μμ—λ‹¤...</p>\n<p><code>getBy*</code>λ” μ—λ¦¬λ¨ΌνΈλ¥Ό μ°Ύμ§€ λ»ν•λ©΄ μ—λ¬λ¥Ό λμ§€κ³ , <code>queryBy*</code>λ” nullμ„ λ°ν™ν•κ² λλ‹¤.\n<code>getBy*</code>μ™€ <code>findBy*</code>λ” λ°ν™ν•λ” ν•νƒλ” λ™μΌν•λ°, <code>retry</code> μ—¬λ¶€κ°€ μ°¨μ΄κ°€ μμ—λ‹¤. (getν•λλƒ findν•λλƒμ μλ―Έμ™€ ν†µν•λ‹¤κ³  μƒκ°ν•λ‹¤)</p>\n<hr>\n<h3>μ—¬λ¬κ°€μ§€ μµμ…μ΄ μλ”λ°</h3>\n<p>μ»΄ν¬λ„νΈ λ λ”λ§μ„ ν…μ¤νΈν•λ‹¤λ³΄λ‹ μ΄λ²¤νΈκ°€ λ°μƒν–μ„λ• λ³€κ²½λλ” μ»΄ν¬λ„νΈλ„ μ¶”κ°€λ΅ ν™•μΈν•κ³  μ‹¶μ–΄μ΅λ‹¤.\n<code>μ΄λ―Έμ§€ λ΅λ“λλ” μκ°„μ„ μ–΄λ–»κ² νΈλν‚Ήν•  μ μμ§€?</code> μƒκ°ν•κ³  μμ—λ”λ°, <code>fireEvent</code>λ¥Ό μ΄μ©ν•΄ ν•΄κ²°ν•  μ μμ—λ‹¤.</p>\n<pre><code class=\"language-tsx\">import { fireEvent, render } from '@testing-library/react-native';\n\nit('μ»΄ν¬λ„νΈ ν…μ¤νΈ', () => {\n  const { queryByTestId } = render(&#x3C;RenderImage />);\n  \n  expect(queryByTestId('image_label')).toBe('loading...');\n  fireEvent(queryByTestId('image') as ReactTestInstance, 'onLoad');\n  expect(queryByTestId('image_label')).toBe('loaded');\n});\n</code></pre>\n<p>μ“°λ‹¤λ³΄λ‹ <code>ByText, ByLabel, ByRole...</code> μ—¬λ¬κ°€μ§€κ°€ μλ”λ° κ³„μ† <code>ByTestId</code>λ§ μ‚¬μ©ν•κ³  μλ‹¤!\nλ‚΄κ°€ ν™•μΈν•κ³  μ‹¶μ€ μ—λ¦¬λ¨ΌνΈλ¥Ό κ°€μ¥ λ…ν™•ν•κ² μ ‘κ·Όν•  μ μμ–΄μ„ μΈ κ²ƒ κ°™μ€λ°, ν…μ¤νΈλ§ κ°€μ Έμ™€μ„ ν…μ¤νΈν•κ³  μ‹¶μ„λ• μ¨λ΄μ•Όμ§€!</p>\n<p><a href=\"https://github.com/callstack/react-native-testing-library/blob/main/src/__tests__/render.test.js\">testing-library render ν…μ¤νΈ μ½”λ“ μμ‹</a> λ¥Ό λ³΄λ” κ²ƒλ„ μ¬λ―Έμμ—λ‹¤!\n(κ·ΈλΌμ—λ„ <code>debug</code>λ” μ–΄λ–¤ μ©λ„λ΅ μ“Έ μ μμ„μ§€ μƒκ°μ΄ μ΄μ–΄μ§€μ§€ μ•κ³  μλ‹¤...)</p>\n<hr>\n<h3>μ–΄κΉ€μ—†μ΄ λμ΄ κ°€λ”</h3>\n<p>νΉμ‹λ‚ μ„¤λ§ν•λ©° <a href=\"https://callstack.github.io/react-native-testing-library/docs/eslint-plugin-testing-library\">eslint-plugin-testing-library</a>... <code>lint</code>λ” μ—†λ” κ²ƒμ΄ μ—†λ‹¤!</p>\n<p>ν•„μ”ν•λ‹¤κ³  μƒκ°μ΄ λ“λ” μ‹μ μ„ λ‹¨μν•κ² μƒκ°ν•΄λ³΄λ©΄, μμ‹λ΅ λ‚μ™€μλ“― <code>testID</code> μ»¨λ²¤μ…μ„ μ μ§€ν•κΈ° μ„ν• κ²ƒ μ•„λ‹κΉ</p>\n<hr>\n<h3>λ‚΄ μΉκµ¬ μ‹λ‚λ¦¬μ¤</h3>\n<p>μ΄λ° ν…μ¤νΈ κ³Όμ •μ„ ν†µν•΄ μ»΄ν¬λ„νΈ μ¤λƒ…μƒ·, μ΄κΈ° μƒνƒμ™€ μ‚¬μ©μμ λ™μ‘μ— λ”°λΌ μ—…λ°μ΄νΈλ μƒνƒλ¥Ό ν™•μΈν•  μ μμ—λ‹¤.</p>\n<p>λν• μ¤‘κ°„μ— λ³€κ²½λλ” λ΅μ§μ„ ν™•μΈν•κΈ° μ„ν•΄ <code>ν…μ¤νΈ μ‹λ‚λ¦¬μ¤λ” λ‚΄ μΉκµ¬</code>λ¥Ό κ²½ν—ν•΄λ΄¤κΈ° λ•λ¬Έμ— λ―Ώκ³  μ‹μ‘ν–κ³  μ—­μ‹λ‚ μ΄λ²μ—λ„ λ„μ›€μ„ μ£Όμ—λ‹¤.</p>\n<p>κ·Έλ¬λ‚ μ—¬κΈ°μ„ λ†“μΉκ³  μ§€λ‚κ°”λ λ¶€λ¶„μ„ λ¦¬λ·°λ¥Ό ν†µν•΄ λ‹¤μ‹ λμ•„λ³Ό μ μμ—λ”λ°, λΉ„μ¦λ‹μ¤ λ΅μ§μ„ λ¨λ‘ ν›…μΌλ΅ λ¶„λ¦¬ν• μƒνƒμ—μ„ <code>μ»΄ν¬λ„νΈλ¥Ό ν…μ¤νΈν•΄μ•Όμ§€</code> ν•λ” μ•μ‹¬μΌλ΅ <code>λ¶ν•„μ”ν• ν…μ¤νΈ μ½”λ“</code>λ¥Ό μ‘μ„±ν•κ³  μμ—λ‹¤.\nμ»΄ν¬λ„νΈκ°€ κ°–κ³  μλ” μƒνƒκ°€ λ¨λ‘ μ»¤μ¤ν…€ ν›…μ— μμ΅΄ν•κ³  μμ—κΈ° λ•λ¬Έμ—, ν›…μ„ ν…μ¤νΈν•λ” κ²ƒλ§μΌλ΅λ„ κ²€μ¦ν•  μ μμ—λ κ²ƒμ΄μ€λ‹¤.</p>\n<p>μ„μ— <code>λ‹¨μν•κ±°λ‚ λ‹¨ ν•λ‚μ μ»΄ν¬λ„νΈμ—μ„λ§ μ“°μ΄λ” ν›…μ΄λΌλ©΄ μ»΄ν¬λ„νΈ μμ²΄λ¥Ό ν…μ¤νΈν•λ” κ²ƒμ΄ μΆ‹κ² λ‹¤</code>μ™€ κ°™μ€ λ§¥λ½μΌλ΅ λ³µμ΅ν• μ»΄ν¬λ„νΈμ΄μ§€λ§ λΉ„μ¦λ‹μ¤ λ΅μ§μ„ λ‹΄κ³  μλ” μ»¤μ¤ν…€ ν›…μ„ ν…μ¤νΈλ¥Ό ν†µν•΄ κ²€μ¦ν–λ‹¤λ©΄ κ·Έμ— λ”°λ¥΄λ” μ»΄ν¬λ„νΈλ¥Ό μ¤‘λ³µν•΄μ„ ν…μ¤νΈν•  ν•„μ”κ°€ μ—†μ§€ μ•μ„κΉ?</p>\n<p><a href=\"https://testing-library.com/docs/#the-problem\">μ°Έκ³ : @testing-libraryμ μ†”λ£¨μ…</a></p>\n<hr>\n<h3>κ·Έλμ„ κ°‘μκΈ° λ§λ¬΄λ¦¬</h3>\n<p><code>ν•¨κ» μλΌκΈ°</code>μ— <code>μλ„μ  μλ ¨</code>μ΄λΌλ” λ‚΄μ©μ΄ μλ‹¤.\nμ§€λ£¨ν•¨κ³Ό λ¶μ•ν•¨ κ·Έ μ‚¬μ΄, λ°μ…μ΄λΌλ” λ‹¨κ³„μ μ „λµμ„ κ°€μ Έκ°€λ” κ²ƒμ΄λ‹¤.\n(μλ ¨μ΄ λμ—λ”μ§€λ” λ¨λ¥΄κ² μ§€λ§) μ΄ μλ„λ¥Ό κ°€μ§€κ³  μ‹μ‘ν•μ€λ”λ°, μƒκ°λ§νΌ μ•„λ¦„λ‹µκ² λμ§€λ” μ•μ•λ κ²ƒ κ°™κ³  λ§μμ μλ ¨μ„ λ” λ§μ΄ ν• κ²ƒ κ°™λ‹¤.</p>\n<p>ν…μ¤νΈ μ½”λ“λ¥Ό μ¶”κ°€ν• κ²ƒ λ§μΌλ΅λ„ μ΄λ―Έ μ μ ν• λ‚μ΄λ„λ¥Ό μ¶”κ°€ν–λ‹¤κ³  μ¤μ¤λ΅ μƒκ°ν•΄λ³΄λ©° μ‹μ‘μ€ <code>TDD λ„μ „κΈ°</code>μ€λ”λ°,\nTDDλ¥Ό ν–λ‹¤κ³  ν•κΈ° λ³΄λ‹¤λ” <code>ν…μ¤νΈ μ•μ•„λ³΄κΈ°</code> λΌκ³  λκ»΄μ§„λ‹¤.</p>\n<p>μ‹μ‘μ€ TDDμ€λ”λ°, μ–΄λ μκ°„ Tκ°€ μλ”λ“― μ—†λ”λ“― μκΈ΄ ν•μ§€λ§ DDλ” ν•κ³  μμ§€ μ•λ” κ·Έλ° μ‚¬μ΄?</p>\n<p>λ„μ „ν•λ‹¤κ³  μ•„λ¦„λ‹µκ² λμ§€λ” μ•μ•λ‹¤.\nκ·Έλƒ¥ DD λΉΌκ³  Tλ§μ΄λΌλ„ ν•¨κ» ν•λ” κ²ƒμ΄ μ•„λ¦„λ‹¤μ΄ λ„μ „μ΄μ€λ‹¤κ³  μ†λ°•ν•κ² μƒκ°ν•΄λ³Έλ‹¤ π™</p>\n<p>(+ ν•μ°Έ μ •λ¦¬λ¥Ό ν•κ³  μλ μ¤‘κ°„μ— <a href=\"https://devowen.com/431\">ν…μ¤ν… λΌμ΄λΈλ¬λ¦¬λ€?</a> λ²μ—­ κΈ€μ΄ μ¬λΌμ™”λ”λ°, λ„λ¬΄ νƒ€μ΄λ° μ μ ν•μ—¬ μΆ‹μ•λ‹¤!)</p>","frontmatter":{"slug":"/blog/beautiful-tdd","date":"2022λ…„ 1μ›” 9μΌ","title":"TDD μ•„λ¦„λ‹¤μ΄ λ„μ „μ΄μ€λ‹¤"}}},"pageContext":{"id":"3b35be34-8be4-51c5-bc01-74517036ee64","frontmatter__slug":"/blog/beautiful-tdd","__params":{"frontmatter__slug":"blog"}}},
    "staticQueryHashes": ["3000541721","3293771174"]}