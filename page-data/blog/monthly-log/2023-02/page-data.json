{"componentChunkName":"component---src-pages-markdown-remark-frontmatter-slug-tsx","path":"/blog/monthly-log/2023-02/","result":{"data":{"markdownRemark":{"html":"<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#2%EC%9B%94-%ED%95%9C%EB%8B%AC%EB%8F%99%EC%95%88\"><code>2월 한달동안</code></a></li>\n<li><a href=\"#%EC%9D%BD%EC%96%B4%EB%B3%B4%EC%95%98%EB%8D%98\"><code>읽어보았던</code></a>\n<ul>\n<li>\n<ul>\n<li><a href=\"#%EB%B0%98%ED%92%88%ED%95%A9%EB%8B%88%EB%8B%A4\"><code>반품합니다</code></a></li>\n<li><a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81-%EA%B0%9C%EC%84%A0\"><code>렌더링 개선</code></a></li>\n<li><a href=\"#fabric--swift\"><code>fabric + swift</code></a></li>\n<li><a href=\"#%EC%95%A0%EC%9E%90%EC%9D%BC%EC%9D%84-%EC%84%A4%EB%AA%85%ED%95%98%EB%9D%BC\"><code>애자일을 설명하라</code></a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</div>\n<h2 id=\"2월-한달동안\" style=\"position:relative;\"><a href=\"#2%EC%9B%94-%ED%95%9C%EB%8B%AC%EB%8F%99%EC%95%88\" aria-label=\"2월 한달동안 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>2월 한달동안</code></h2>\n<ul>\n<li>2월이 너무 짧았다</li>\n<li>아쉬운점\n<ul>\n<li>지난 1월의 개선할 점으로 건강관리에 신경썼더니 자투리 공부를 신경쓰지 못했다\n<ul>\n<li>하나만 되고 둘은 안되는 슬픈 상황이지만 🙈</li>\n<li>연휴가 있던 지난달에 비해 이번달은 휴일이 적어서 그런 것 같은 느낌</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>잘한점\n<ul>\n<li>루틴은 계속 이어가고 있다</li>\n<li>무리한 목표 보다는 소박하지만 계속 이어갈 수 있는 목표로 조금 수정했던 것이 효과가 있었다</li>\n</ul>\n</li>\n<li>개선할점\n<ul>\n<li>연휴가 있어야만 시간을 투자할 수 있는건 아니니 나몰라 했던 시간들을 돌아봐야겠다</li>\n<li>합리화는 안했지만(이게 합리화인가) 소박하게 잡았던 목표들을 조금 더 소박하게 추가해본다</li>\n<li>연간 목표로 잡았던 인문학은 아직 소식이 없는데, 당근과 당근 전략을 시작해본다</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"읽어보았던\" style=\"position:relative;\"><a href=\"#%EC%9D%BD%EC%96%B4%EB%B3%B4%EC%95%98%EB%8D%98\" aria-label=\"읽어보았던 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>읽어보았던</code></h2>\n<h4 id=\"반품합니다\" style=\"position:relative;\"><a href=\"#%EB%B0%98%ED%92%88%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"반품합니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>반품합니다</code></h4>\n<ul>\n<li><code>바퀴를 새로 만드는게 우리가 필요한 모양대로 더 이쁘게 잘 굴러갈 것이다</code></li>\n<li>이런 마음으로 시작한 바퀴의 재발명\n<ul>\n<li>이쁘게 꾸미고 둥글둥글 잘 굴러간다</li>\n<li>그리고 기존 바퀴를 대체하는 순간</li>\n<li>별로 나아지지 않았거나 오히려 안좋은 것을 느낀다</li>\n</ul>\n</li>\n<li><code>바퀴를 만들다보면 대부분은 기존 바퀴 보다 차이가 없거나 더 나빠졌을 것이다</code>\n<ul>\n<li>맞습니당 🙈</li>\n</ul>\n</li>\n<li>더 좋아지기를 기대하고 만들었으나\n<ul>\n<li>일부 좋아진 부분이 있긴 하지만</li>\n<li>나빠진 부분이 더 많다는 사실</li>\n</ul>\n</li>\n<li>반품요청</li>\n</ul>\n<h4 id=\"렌더링-개선\" style=\"position:relative;\"><a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81-%EA%B0%9C%EC%84%A0\" aria-label=\"렌더링 개선 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>렌더링 개선</code></h4>\n<ul>\n<li><a href=\"https://so-so.dev/web/browser-rendering-performance/\">참고: 렌더링 성능 개선(2) — 합성 애니메이션 사용</a></li>\n<li><code>웹 성능 최적화는 가장 빠른 렌더링 패스를 구현하는 것이 아니다.</code>\n<ul>\n<li>내가 실패한 이유인 것 같다</li>\n<li><code>렌더링 과정은 전적으로 브라우저에서 진행되는 것으로, 렌더링 과정 자체를 개선할 수는 없다.</code></li>\n<li><code>성능 ‘개선’의 접근 방식은 렌더링 과정 자체의 개선이 아니라 과정 중 병목이 생기는 구간을 줄이는 전략으로 접근해야 한다.</code></li>\n</ul>\n</li>\n<li>내가 시도한 방법은 렌더링을 빠르게 하기 위해 각 컴포넌트의 렌더 타임을 분할했다\n<ul>\n<li>근데 그건 해결 방법이 아니라 문제가 되는 시점을 1에서 n으로 보내버린 것 같다</li>\n<li>하지만 여기서 발생한 문제로 시점을 분할해서 미뤄버렸으니 병목이 어디에 가있을지 모른다는 것이다</li>\n<li>병목이 생기는 구간을 잘게 쪼개어 분할한건 맞는 것 같은데 그럼에도 왜 실패했을까?</li>\n</ul>\n</li>\n<li>글에서 이야기 하는 것처럼\n<ul>\n<li>메인스레드 점유율을 낮추고자 reanimated를 최대한 사용하여 UI스레드로 분리하였다</li>\n<li>그럼에도 메인스레드가 터지는 이유는?</li>\n<li>그냥 단순 요청이 많아서?</li>\n</ul>\n</li>\n<li><code>과도한 레이어 사용은 오히려 레이어 합성의 오버헤드로 인해 병목이 생길 수 있다</code></li>\n<li>불필요한 리렌더가 발생하는 것들을 프로파일링을 통해 최소화했다\n<ul>\n<li>그럼에도 초기 마운트가 느린 것은 요청이 많기 때문이라 생각해서 타임을 분할한 것인데...</li>\n<li>이걸로 부족한 것은 왜일까</li>\n</ul>\n</li>\n<li>UI스레드와 메인스레드 분할해둔 것은 잘 동작했다</li>\n<li>하지만 메인스레드로 수많은 렌더 요청이 들어가면 UI스레드가 씹혔다\n<ul>\n<li>이게 문제였던 것 같다\n<ul>\n<li>렌더링 개선을 통해 애니메이션은 애니메이션대로 빠르게 보여주고자 했던 것인데</li>\n<li>여전히 애니메이션이 씹혔기 때문에 사용자 경험은 전혀 속도가 빨라 보이지 않았다</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>렌더링, 애니메이션 하면 항상 따라오는\n<ul>\n<li>리페인트 없이 합성만 하는 애니메니션을 사용하는 것 🤔</li>\n</ul>\n</li>\n<li>리플로우를 없애고 리페인트만을 하도록 했는데, 이제 리페인트도 없애야만 한다\n<ul>\n<li>리플로우 &#x3C;&#x3C;&#x3C; 리페인트 &#x3C;&#x3C;&#x3C; 컴포지션</li>\n<li>애니메이션이 필요한 경우 <code>position: absolute</code>로 다른 컴포넌트의 리플로우/리페인트를 최소화</li>\n</ul>\n</li>\n<li><a href=\"https://velog.io/@shin6403/React-%EC%84%B1%EB%8A%A5%EC%B5%9C%EC%A0%81%ED%99%94-3%ED%8E%B8-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98-%EC%B5%9C%EC%A0%81%ED%99%94feat.-CSS\">전에 봤던 렌더링 최적화 블로그 공유: [React] 성능최적화 3편 - 애니메이션 최적화(feat. 리플로우,리페인트,CSS)</a></li>\n</ul>\n<h4 id=\"fabric--swift\" style=\"position:relative;\"><a href=\"#fabric--swift\" aria-label=\"fabric  swift permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>fabric + swift</code></h4>\n<ul>\n<li>기존 프로젝트는 swift로 되어있다</li>\n<li>하지만 나는 fabric을 적용하고 싶다</li>\n<li>방법은 swift를 모두 objc로 바꾸거나 fabric이 swift에서 동작하도록 설정하거나\n<ul>\n<li>첫번째 방법 보다 아무리 생각해도 두번째 방법이 간단해보인다</li>\n</ul>\n</li>\n<li>AppDelegate랑 MainApplication만 어떻게 잘 해주면 될 것 같다\n<ul>\n<li>여기서 <code>어떻게</code> 가 가장 중요한 부분인데</li>\n<li>이걸 알 수 없기에 길고 긴 죽쓰는 여정을 떠나본다</li>\n<li>c++을 잘 알고 있다면 좀 더 짧은 여정이 될 수 있지만...</li>\n</ul>\n</li>\n<li>fabric 적용이 완료된 <a href=\"https://github.com/jiggag/react-native-starter/releases/tag/0.0.6\">RNStarter@0.0.6</a> 에서 <code>맨땅에 벼락 헤딩</code> 을 시작해본다\n<ul>\n<li>이 프로젝트는 objc로 되어있기에 딱 좋은 환경이다</li>\n</ul>\n</li>\n<li>AppDelegate랑 MainApplication에서 sourceUrl까지는 수월하게 도달했다\n<ul>\n<li>사실 무언가 하지는 않았다</li>\n<li>그냥 swift로 자연스럽게 변환했다</li>\n<li>그리고 빌드를 했다</li>\n<li>오????? 되는건가?????</li>\n<li>🥳</li>\n</ul>\n</li>\n<li>그럴리없었다\n<ul>\n<li>window에 view를 띄우는건 성공했지만 여기까지는 네이티브 뷰이고</li>\n<li>그 안에 RN bundle이 떠야하는데 이게 되지 않는다</li>\n<li>분명 메트로도 연결이 되어있고 번들도 잘 만들어져있는데</li>\n</ul>\n</li>\n<li>왜 뜨질 않는걸까?\n<ul>\n<li>디버깅해보면 bundleURL이 잘 들어와있는 것을 확인했다</li>\n<li><code>http://localhost:8081/index.bundle?platform=ios&#x26;dev=true&#x26;minify=false&#x26;modulesOnly=false&#x26;runModule=true&#x26;app=com.jiggag.rnstarter</code></li>\n</ul>\n</li>\n<li>준비물은 다 있는데 서로 연결이 되지 않는다\n<ul>\n<li>c++로 구성된 주소와 내가 swift로 넘겨준 주소가 다를 수 있을까?</li>\n<li>서로 다른 곳을 바라보고 있으니 매칭이 되지 않는다라고 추측해보았다</li>\n<li>보내는 곳에서 받으려는 곳으로 통역이 필요할지도?</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"애자일을-설명하라\" style=\"position:relative;\"><a href=\"#%EC%95%A0%EC%9E%90%EC%9D%BC%EC%9D%84-%EC%84%A4%EB%AA%85%ED%95%98%EB%9D%BC\" aria-label=\"애자일을 설명하라 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>애자일을 설명하라</code></h4>\n<ul>\n<li><code>애자일이 뭐야?</code></li>\n<li>전혀 다른 직군의 친구에게 애자일을 설명할 수 없었다</li>\n<li>알기 쉽게 설명해주고 싶었지만 입에서 나온 한마디는 <code>방법론이야</code> 였다</li>\n<li>그리고나서 내가 스스로에게 설명한다면? 질문을 해보았는데, 그마저도 대답할 수 없었다</li>\n<li>추상적인 느낌이라고 하지만 뜬구름을 둥둥 느낌이였다</li>\n<li>그건 제대로 이해하지 못했기 때문이다 (항상 그렇듯 이것은 데자뷰)</li>\n<li><code>스프린트, 사이클, 피드백...</code> 이런 단어들이 둥둥 떠오르는데</li>\n<li>이걸 설명할 수 없던 것은 꼬리를 물고 그 단어들을 다시 물어본다면 이어서 설명해줄 자신이 없었기 때문이다</li>\n<li>그리고나서 며칠 뒤 읽은 책에서 우연히 이러한 상황을 의미하는 문장이 있었는데, 이걸 정리하면</li>\n<li><code>나에게 익숙한 단어들로 두루뭉실 설명하려고 했다</code>\n<ul>\n<li>하지만 그 단어들도 또 다른 익숙한 단어들로 포장할 수 밖에 없었다</li>\n</ul>\n</li>\n<li>제대로 알고 있다는 것은 눈높이에 따라 적합한 설명을 할 수 있어야하는데...</li>\n</ul>","frontmatter":{"slug":"/blog/monthly-log/2023-02","date":"2023년 3월 1일","title":"2월 한달동안 로그","subtitle":"찾아보고, 읽어보고, 적어두기","tags":["log","바퀴","재발명","렌더링","퍼포먼스","최적화","fabric","swift","reactnative","애자일"]}}},"pageContext":{"id":"7c0ef82a-51dc-5212-a20c-69fc5d3d9740","frontmatter__slug":"/blog/monthly-log/2023-02","__params":{"frontmatter__slug":"blog"}}},"staticQueryHashes":["3000541721","3293771174"]}